<html>
    <style>
	table, th, td {
		border: 1px solid black;
	}
    </style>
    <body>
        <h1>Welcome!</h2>
            <p>
	    This is a simple client that calls two different APIs independently.  The connections are facilitated by Consul{% if is_connect == "1" %} and secured with Consul Connect{% endif %}
            </p>
        <h3>Products:</h3>
            {% if prod_list %}
		<table>
		    <tr>
			<th>ID</th>
			<th>Name</th>
			<th>Cost</th>
		    </tr>
                {% for prod in prod_list.res %}
		    <tr>
			<td>{{ prod.inv_id }}</td>
			<td>{{ prod.name }}</td>
			<td>{{ prod.cost }}</td>
		    </tr>
                {% endfor %}
		</table>
		Result from instance {{ prod_list.instance_id }}, config is {{ prod_list.conf }}
            {% else %}
                <font color="red">There was an error calling Product API...</font>
            {% endif %} 
        <h3>Listings:</h3>
            {% if listings_list %}
		<table>
		    <tr>
			<th>ID</th>
			<th>Name</th>
			<th>Reserve</th>
			<th>Current Bid</th>
		    </tr>
                {% for listing in listings_list %}
		    <tr>
			<td>{{ listing.listing_id }}</td>
			<td>{{ listing.name }}</td>
			<td>{{ listing.reserve }}</td>
			<td>{{ listing.current_bid }}</td>
		    </tr>
                {% endfor %}
		</table>
            {% else %}
                <font color="red">There was a problem calling the Listing API...</font>
            {% endif %}
        </ul>
    </body>
</html>
